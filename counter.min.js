"use strict";angular.module("Firestitch.angular-counter",[]).directive("fsCounter",[function(){return{restrict:"A",scope:{value:"=value"},template:'<div class="fs-counter input-group" ng-class="addclass" ng-style="width"><span class="input-group-btn" ng-click="minus()"><button class="btn btn-default"><span class="glyphicon glyphicon-minus"></span></button></span><input type="text" class="form-control text-center" ng-model="value" ng-change="changed()" ng-readonly="readonly"><span class="input-group-btn" ng-click="plus()"><button class="btn btn-default"><span class="glyphicon glyphicon-plus"></span></button></span></div>',replace:!0,link:function(scope,element,attributes){var max,min,setValue,step;if(max=void 0,min=void 0,setValue=void 0,step=void 0,angular.isUndefined(scope.value))throw"Missing the value attribute on the counter directive.";min=angular.isUndefined(attributes.min)?null:parseInt(attributes.min),max=angular.isUndefined(attributes.max)?null:parseInt(attributes.max),step=angular.isUndefined(attributes.step)?1:parseInt(attributes.step),scope.readonly=angular.isUndefined(attributes.editable)?!0:!1,scope.addclass=angular.isUndefined(attributes.addclass)?null:attributes.addclass,scope.width=angular.isUndefined(attributes.width)?{}:{width:attributes.width},setValue=function(val){var val=parseInt(val);return!min&&!max||min&&max&&val>=min&&max>=val?void(scope.value=val):void(scope.value=min&&min>val?min:max&&val>max?max:val)},setValue(scope.value),scope.minus=function(){return min&&(scope.value<=min||scope.value-step<=min)||0===min&&scope.value<1?(setValue(min),!1):void setValue(scope.value-step)},scope.plus=function(){return max&&(scope.value>=max||scope.value+step>=max)?(setValue(max),!1):void setValue(scope.value+step)},scope.changed=function(){return scope.value||setValue(0),setValue(/[0-9]/.test(scope.value)?scope.value:scope.min),min&&(scope.value<=min||scope.value-step<=min)?(setValue(min),!1):max&&(scope.value>=max||scope.value+step>=max)?(setValue(max),!1):void setValue(scope.value)}}}}]);